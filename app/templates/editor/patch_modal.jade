extends /templates/core/modal-base

block modal-header-content
  .modal-header-content
    h3(data-i18n="resources.patch") Patch

block modal-body-content
  .modal-body
    p= patch.get('commitMessage')
    if deltaWorked
      .changes-stub
    else
      .alert.alert-danger Could not apply this delta to the current version.

block modal-footer
  .modal-footer
    button(data-dismiss="modal", data-i18n="common.cancel").btn Cancel
    if isPatchCreator
      if status != 'withdrawn'
        button.btn.btn-danger#withdraw-button(data-i18n="general.withdraw") Withdraw
    if isPatchRecipient
      if status != 'accepted'
        button.btn.btn-primary#accept-button(data-i18n="general.accept") Accept
      if status != 'rejected'
        button.btn.btn-danger#reject-button(data-i18n="general.reject") Reject
